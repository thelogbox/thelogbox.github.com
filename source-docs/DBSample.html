<!DOCTYPE html>  <html> <head>   <title>DBSample.java</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               DBSample.java             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>                            </td>             <td class="code">               <div class="highlight"><pre><span class="kn">import</span> <span class="nn">java.sql.DriverManager</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.Connection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.Statement</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.ResultSet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.sql.SQLException</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">DBSample</span> <span class="o">{</span>

	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="o">[]</span><span class="n">args</span><span class="o">){</span>
		<span class="n">Connection</span> <span class="n">cn</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">Statement</span> <span class="n">st</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
		<span class="n">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Most methods related to database programming declares 
Exceptions. You will need to enclose them insdie a try-catch-block</p>             </td>             <td class="code">               <div class="highlight"><pre>		<span class="k">try</span> <span class="o">{</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Step 1. load the database driver. this class is inside
the sqlite-jdbc.jar</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&quot;org.sqlite.JDBC&quot;</span><span class="o">);</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Get a connection object using DriverManager connection factory
Connection is an interface, that is why you cannot say
Connection cn = new Connection.
The parameter of getConnection() takes a string parameter
which is the URL for the database. Each JDBC driver will specify
the format and conetent of this URL, so read the docs of the JDBC
driver you are using. for SQLite, this is the URL</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="n">cn</span> <span class="o">=</span> <span class="n">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="s">&quot;jdbc:sqlite:sample.db&quot;</span><span class="o">);</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Step 3. Get a Statement object using factory method of Connection</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="n">st</span> <span class="o">=</span> <span class="n">cn</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Step 4. Run a valid SQL query. To be clear, this is a bad way
to write database programming codes, it is very susceptible to SQL injection
attack. This code is for educational purposes only</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="n">rs</span> <span class="o">=</span> <span class="n">st</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="s">&quot;SELECT * FROM user;&quot;</span><span class="o">);</span>
			</pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>the next() method does 2 things. First, it moves the cursor to the next record,
second, it returns true if were not yet at the last record of the cursor</p>             </td>             <td class="code">               <div class="highlight"><pre>			<span class="k">while</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span> </pre></div>             </td>           </tr>                               <tr id="section-8">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-8">&#182;</a>               </div>               <p>getString() takes a positional parameter. Unlike arrays, ResultSets are 1-based
and not 0-based, so you start your column position at 1, not zero</p>             </td>             <td class="code">               <div class="highlight"><pre>				<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="mi">1</span><span class="o">));</span> 
				<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="mi">2</span><span class="o">));</span> 
				<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="mi">3</span><span class="o">));</span>
			<span class="o">}</span>
		<span class="o">}</span>
		<span class="k">catch</span><span class="o">(</span><span class="n">ClassNotFoundException</span> <span class="n">ce</span><span class="o">)</span> <span class="o">{</span><span class="n">ce</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();}</span>
		<span class="k">catch</span><span class="o">(</span><span class="n">SQLException</span> <span class="n">sqle</span><span class="o">)</span> <span class="o">{</span> <span class="n">sqle</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();}</span>
		<span class="k">finally</span> <span class="o">{</span>
			<span class="k">try</span> <span class="o">{</span> <span class="n">rs</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
				<span class="n">st</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
				<span class="n">cn</span><span class="o">.</span><span class="na">close</span><span class="o">();</span> 
			<span class="o">}</span>
			<span class="k">catch</span><span class="o">(</span><span class="n">SQLException</span> <span class="n">sqle</span><span class="o">)</span> <span class="o">{</span> <span class="n">sqle</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();}</span> 
		<span class="o">}</span>
	<span class="o">}</span> 
<span class="o">}</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 