<!DOCTYPE HTML>
<html>
  <head>
		<!--
<link href='http://fonts.googleapis.com/css?family=Neuton:300,700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Droid+Serif:400,400italic' rel='stylesheet' type='text/css'>

<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Tauri' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Muli' rel='stylesheet' type='text/css'>

<link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>

<link href='http://fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>


<link href='http://fonts.googleapis.com/css?family=Rokkitt:400,700' rel='stylesheet' type='text/css'>


<script src="//use.typekit.net/mvn1usv.js"></script>
<script>try{Typekit.load();}catch(e){}</script>

<script src="//use.typekit.net/mvn1usv.js"></script>
<script>try{Typekit.load();}catch(e){}</script>

-->

<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/feed/" />

<meta charset="utf-8">
 
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="keywords" content="UI ,Layout">
<meta name="author" content="Ted Hagos">
<meta name="description" content="Advanced linear layout in Android" />

<meta name="google-site-verification" content="Dg--5pO3MqOZk7aJ4jMia-MpnfcGdJaGIkYBJIDSkWU" />

<title>
  
    Using Layout Weights | theLogBox
  
</title>


    <link rel="stylesheet" type="text/css" href="/css/style_tutorial.css" />  
  </head>
  <body>

    <mast><a href="/">theLogBox.com</a>/android</mast>

    <article itemscope itemtype="http://schema.org/Article" >    
      <headline>Using Layout Weights</headline>
      <author>
        By <a href='https://plus.google.com/+TedHagos?rel=author'>Ted Hagos</a>
      </author>
      <dateCreated>
        written on July 20, 2012
        
      </dateCreated>

		  <articleBody itempprop="articleBody">
		    <aside>
This document has been rewritten and will no longer be updated. The new document is found <a href="/android/layout-weights">here</a>
</aside>

<p>Learning to layout vertically and horizontally are basic skills in UI programming. They are effective and good enough, but that’s just the thing, they are just good enough. If you want to show a bit of finesse, you need to do something beyond the basics.  </p>

<p>Linear layouts will do exactly what the name implies. It will layout the Views linearly. What it will not do is resize the Views to take advantage of free space.  If you do not manage free space in your layout, the design will not appear tight, and a bit, well, amateurish. </p>

<p>There is one easy thing that if you do, will add a bit of finesse to the UI design. That one thing is to add <em>layout weights</em> to the Views.</p>

<h2 class="section">START WITH A BASIC UI WITHOUT LAYOUT</h2>

<p>Create an <em>Activity based</em> project for this example. Use the default vertical linear layout and add an <em>EditText, TextView and Button</em> components</p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class="na">android:orientation=</span><span class="s">&quot;vertical&quot;</span>
    <span class="na">android:layout_width=</span><span class="s">&quot;fill_parent&quot;</span>
    <span class="na">android:layout_height=</span><span class="s">&quot;fill_parent&quot;</span>
    <span class="nt">&gt;</span>

	<span class="nt">&lt;EditText</span>
		<span class="na">android:layout_width=</span><span class="s">&quot;fill_parent&quot;</span>
		<span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
		<span class="na">android:id=</span><span class="s">&quot;@+id/todoedit&quot;</span>

	<span class="nt">/&gt;</span>

	<span class="nt">&lt;TextView</span>  
    	<span class="na">android:layout_width=</span><span class="s">&quot;fill_parent&quot;</span> 
    	<span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span> 
    	<span class="na">android:text=</span><span class="s">&quot;I have nothing&quot;</span>
		<span class="na">android:id=</span><span class="s">&quot;@+id/tododisplay&quot;</span>

    <span class="nt">/&gt;</span>

	<span class="nt">&lt;Button</span>
		<span class="na">android:layout_width=</span><span class="s">&quot;fill_parent&quot;</span>
		<span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
		<span class="na">android:text=</span><span class="s">&quot;Add item&quot;</span>
		<span class="na">android:id=</span><span class="s">&quot;@+id/btnadd&quot;</span>
		<span class="na">android:onClick=</span><span class="s">&quot;recAdd&quot;</span>

<span class="nt">/&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span></code></pre></div>

<p><img class="small" src="/img/layout-no-weight.png" width="50%" />
&lt;div id='lst'&gt;The UI as it current looks&lt;/div&gt;</p>

<p>This design suffers from a couple of problems. The vertical space for the <em>TextView</em> is lacking. If the application intends to display multiple lines on the <em>TextView</em> to let users type up inputs and append the results to TextView, then the TextView should have more vertical space than either the <em>Button</em> or the <em>EditText</em>. </p>

<p>We can increase the space occupied by the <em>TextView</em> by increasing the number of lines it will occupy. It can be done by adding  a statement like <em>android:lines=”10”</em> or any number of lines to the TextView declaration. That approach however, have some setbacks, it might work for a 5” screen device but you might need to tweak the number of lines if the app is deployed on another device with a different screen size. Specifying absolute values is a dangerous thing to do in UI design. You just don’t know the form factor of the device where you will app will run. </p>

<h1 id="using-a-weighted-layout">USING A WEIGHTED LAYOUT</h1>

<p>Each <em>View</em> component can be assigned a <em>weight property</em>. You can specify the amount of remaining space that the component can occupy  relative to the amount of space that the other components are occupying. </p>

<p>Think of the weight approach as pie chart. If there 3 components in the UI, I can try to allocate percentages to each component. The percentages represents the amount of screen real-estate to be allocated. </p>

<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class="na">android:orientation=</span><span class="s">&quot;vertical&quot;</span>
    <span class="na">android:layout_width=</span><span class="s">&quot;fill_parent&quot;</span>
    <span class="na">android:layout_height=</span><span class="s">&quot;fill_parent&quot;</span>
    <span class="nt">&gt;</span>

	<span class="nt">&lt;EditText</span>
		<span class="na">android:layout_width=</span><span class="s">&quot;fill_parent&quot;</span>
		<span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
		<span class="na">android:id=</span><span class="s">&quot;@+id/todoedit&quot;</span>
		<span class="na">android:layout_weight=</span><span class="s">&quot;0&quot;</span>
	<span class="nt">/&gt;</span>

	<span class="nt">&lt;TextView</span>  
    	<span class="na">android:layout_width=</span><span class="s">&quot;fill_parent&quot;</span> 
    	<span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span> 
    	<span class="na">android:text=</span><span class="s">&quot;I have nothing&quot;</span>
		<span class="na">android:id=</span><span class="s">&quot;@+id/tododisplay&quot;</span>
		<span class="na">android:layout_weight=</span><span class="s">&quot;10&quot;</span>
    <span class="nt">/&gt;</span>

	<span class="nt">&lt;Button</span>
		<span class="na">android:layout_width=</span><span class="s">&quot;fill_parent&quot;</span>
		<span class="na">android:layout_height=</span><span class="s">&quot;wrap_content&quot;</span>
		<span class="na">android:text=</span><span class="s">&quot;Add item&quot;</span>
		<span class="na">android:id=</span><span class="s">&quot;@+id/btnadd&quot;</span>
		<span class="na">android:onClick=</span><span class="s">&quot;recAdd&quot;</span>
		<span class="na">android:layout_weight=</span><span class="s">&quot;0&quot;</span>
<span class="nt">/&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span></code></pre></div>

<div id="lst">LinearLayout with weights</div>

<p><img class="small" src="/img/layout-weight.png" width="50%" /></p>

<div id="lst">How it looks with layout weights</div>

<p><strong>REMEMBER</strong></p>

<p>Use the weight property of the view to allocate the amount of screen real estate for it.</p>

<p>The weight of all the views will be summed up. If you have 3 views and you gave them all equal weights of 10, it is as good as assigning them equal weights of 1 or 0. The integer value does not matter, it is the proportion of each view relative to its sibling views. </p>

<p>You can only use the <em>weight property</em> on a <strong>LinearLayout</strong>. The other layouts will have their own acrobatics to position views in relation to its sibling views and the frame</p>

	
		  </articleBody>
      
      <!--
      <table bgcolor="#f1f1f1" cellpadding="10" id="book">
        <tr>
          <td width="25%">
            <img src="http://titlepages.leanpub.com/minimumandroidprogramming/small" width="100%"/> 
          </td>
          <td width="75%">
            Ted is writing an android book for beginners. It's a work in progress.
            <a href="https://leanpub.com/minimumandroidprogramming/read" target="_blank">You  
            can read it (free) online</a> over at LeanPub.
          </td>
        </tr>
      </table>
      -->
      
		</article>
    
    
    <toc>
      <div align="center">
      <h2>Android Programming Tutorials</h2>
      </div> 
    <div class="toc">      
      <ul>
      <li><a href="/android/android-key-concepts">Key Concepts in Android</a></li>
      <li><a href="/android/android-what-you-need-to-know-before">What you need to know</a></li>
      <li><a href="/android-install-sdk-windows">Dev Setup - Windows</a></li>
      <li><a href="/android-virtual-device">Virtual Device</a></li>      
      <li><a href="/android/android-project-structure">Project Creation</a></li>
      <li><a href="/android/android-create-project-cli">Create a Project using CLI</a></li>
      <li><a href="#">Create a Project using Android Studio</a></li>
      <li><a href="/android-activity">Activity and the UI</a></li>
      <li><a href="/android-linear-layout">Linear Layout</a></li>
      <li><a href="/android/layout-weights">Layout Weights</a></li>
      <li><a href="/android-scrolling-edittext-using-scrollview">Scrolling Text</a></li>
      <li><a href="/logcat">Debugging with LogCat</a></li>
      <li><a href="/android-logging-and-adb-logcat">LogCat and ADB</a></li>
      <li><a href="/android-event-handling-overview">Event Handling Overview</a></li>
      <li><a href="/android-event-handling-declarative">Declarative Event Handling</a></li>
      <li><a href="/android-event-handling-programmatic">Programmatic Event Handling</a></li>
      <li><a href="/android-event-handling-declarative">Declarative Event Handling</a></li>
      <li><a href="/android-database-programming-basics">Database Programming</a></li>
      <li><a href="/android-check-connectivity">Network Connectivity</a></li>
      <li><a href="/android-location-api">GEO Location</a></li>
      <li><a href="/simple-camera-code">Camera</a></li>
      <li><a href="/android-java-recording-voice">How to use the Mic</a></li>
      <li><a href="/signing-an-android-app">Signing your App</a></li>
  
      <li><a href="/blog-choosing-books-for-android">Bibliography</a></li>
      <li><a href="/blog-studying-and-practicing-android">Study Tips</a></li>
    </ul>
      
    <ul>
      <li><a href="/developing-with-eclipse">Eclipse Development Environment</a></li>
      <li><a href="/android-create-project-eclipse">Creating a project in Eclipse</a></li>
      <li><a href="/developing-with-netbeans">Netbeans Development Environment</a></li>
      <li><a href="/android-studio">Android Studio</a></li>
      <li><a href="/android-project-workflow">Project Workflow</a></li>
      <li><a href="/cannot-find-buildxml">Cannot find build.xml</a></li>
    </ul>
    
    <ul>
      <li><a href="/android/archives.html">See All Tutorials &#8594;</a></li>
    </ul>

    </div>
    </toc>    
     <!-- DISQUS javascript -->
    <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'logbox'; // required: replace example with your forum shortname

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>  
      
<!-- END Disqus-->
    <footer><a href="/index.html">Home</a> &nbsp; <a href="/search">Search</a>

</footer>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38198657-1']);
  _gaq.push(['_setDomainName', 'thelogbox.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
    <!-- Start of StatCounter Code for Default Guide -->
	
  <script type="text/javascript">
  var sc_project=7827488; 
  var sc_invisible=1; 
  var sc_security="069357c9"; 
  </script>
  <script type="text/javascript"
      src="http://www.statcounter.com/counter/counter.js"></script>
  <noscript><div class="statcounter"><a title="customizable
      counter" href="http://statcounter.com/free-hit-counter/"
      target="_blank"><img class="statcounter"
      src="http://c.statcounter.com/7827488/0/069357c9/1/"
      alt="customizable counter"></a></div></noscript>
  <!-- End of StatCounter Code for Default Guide -->
  </body>
</html>
