<!DOCTYPE HTML>
<html>
  <head>
		<!--
<link href='http://fonts.googleapis.com/css?family=Neuton:300,700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans+Narrow' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Droid+Serif:400,400italic' rel='stylesheet' type='text/css'>
-->

<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="/android/feed/" />


<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
<meta charset="utf-8">
<link href='http://fonts.googleapis.com/css?family=Tauri' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Rokkitt:400,700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Muli' rel='stylesheet' type='text/css'>

<meta name="description" content="" />
<title>HTML5 Canvas Programming | theLogBox </title>

		<style>

p, ol, li , .content-meta, body, p, br {
	font-family: 'Helvetica','Tahoma';
	font-size: 16px;
	line-height: 1.5em;
  /* color: #414141; */
  color: #222222;

}

.tutorial-writeup {
  text-align: left;
  width: 95%;
  font-size: 16px;
  margin: 0 auto;
  color: #dedede;
  line-height: 1.5em;
  text-transform: uppercase;
}

.android-head {
  
  line-height:1.5em;
  font-size: 60px;
  text-align: center;
  color: #555555;
  position:relative;
  /*
  background: #FFFFdd;
  */
  background: #1a1a1a;
}


.blog-head {

  /* background-image:url('../img/fruits.JPG'); */
  padding-left: 20px;
  line-height:1.5em%;
  padding-bottom: 20px;
  font-family: 'Rokkitt';
  font-size: 60px;
  padding-top: 30px;
  text-align: center;
  color: #1a1a1a;
  position:relative;
  border-bottom: 1px solid #CACACA;
}
.courses-head {background-image:url('../img/room.jpg');}
.phonegap-head {background-image:url('../img/fruits.JPG')}
 
.android-head a:link, .android-head a:visited,
.blog-head a:link, .blog-head a:visited,
.phonegap-head a:link, .phonegap-head a:visited {
  color: #cc0000;
}


.vspacer {height:20px;}

#wrap {
	width:95%;
	margin: 0 auto;
	padding-top: 1em;
}

/* FOR THE article block */

.withtoc {
  float:left;
  width:68%;
}

.notoc {
  width:95%;
}

#articletitle {
	font-family: 'Rokkitt', 'Helvetica', sans-serif;
	font-size: 45px;
	font-weight: normal;
  
  text-align: left;
  line-height: 1.5em%;
  color: #000000;
  /*color: #373737;*/
  /* color:#2d2d2d; */
}

.content-meta {
  font-family: 'Rokkitt';
	font-style: normal;
  margin-top: 5px;
	margin-bottom:20px;
  text-align: left;
}

.toc {
  font-size: 16px;
  text-align:left;
  width:28%;
  overflow: visible;
  padding: 10px;
  border: 0px solid #DEDEDE;
  float: right;
  line-height: 1.6em%;
}

  .toc a:link, .toc a:visited {
    font-family: 'Tauri';
    color: #bf3f3f;
    /* color: #bf3f3f; */
  }
  .toc h1, .toc h2, .toc h3 {
    font-family: 'Tauri';
    color: #CC6565;
    padding-left: 38px;
  }
  
  .toc li {
    color: #bf3f3f;
    list-style-type: square;
  }

#blogtitle {
	margin-bottom:2em;
}

#blogtitle a:link, #blogtitle a:visited {
	font-family: 'Tauri', 'helvetica', sans-serif;
	text-decoration: none;
	/* color: #435e36;*/
  color: black;
}

#blogtitle a:hover {
	/* border-bottom: 1px solid #79a663;*/
  border-bottom: 1px solid #CACACA;
}

h1, h2, h3, h4, h5 {
	font-family: 'Tauri', 'helvetica', sans-serif;
  letter-spacing: -1px;
	color: #373737;
  font-weight:normal;
}

h1 {font-size: 25px; letter-spacing: -1px;}
h2 {
  font-size: 22px; margin-bottom:0;

} 
h3 {font-size: 20px; margin-bottom:0;}

#feature {
  min-height: 400px;
  padding-top:40px;
  padding-bottom:40px;
}

.feature-title {
  font-family: 'Rokkitt';
  font-size: 70px;
  color: #000000;
  text-align: center;
  padding-top:40px;
  padding-bottom:40px;
  line-height:1.5em;
  width: 80%;
  margin: 0 auto;  
}

.feature-article {
  font-family: 'Helvetica','Tahoma';
  font-size: 16px;
  color: #5e5e5e;
  line-height: 1.4em; 
  width: 80%;
  margin: 0 auto; 
}

.feature-banner{
  /* color: #9a3c31; */
  color: #f1f1f1;
  display:block;
  font-family: 'Arial';
  font-size: 20px;
  background: #999999;
  padding-top: 3px;
  padding-bottom: 3px;
  text-align:center;
  line-height:1.5em;
}

#feature-button {
  text-align:center;
  margin: 20px;
}

#disqus_thread {
  clear: both;
  width: 95%;
  margin: 0 auto;
  margin-top: 50px;
}

body {
    
  font-family: 'Arial';
    
  margin:0;
  padding:0;
  border:0;
  
}

footer {
	font-family: 'Rokkitt';
	font-style:normal;
	margin-top:20px;
  padding-top:25px;
  padding-left:40px;
  clear:both;
  text-align: left;
  min-height:40px;
  border-top:1px solid #CACACA;  
}

/*
#header-right {
	line-height: 1.5em;
	font-family: 'arial', 'helvetica', 'sans-serif';
	font-size: 80%;
	font-style: normal;
	position:relative;
	float:right;
	padding: 1em;
	border: 2px solid #CACACA;
	margin-bottom:1em;
	margin-left:1em;
}

*/

hr {
	border:0;
	color: #CACACA;
	background: #CACACA;
	height: 1px;
}

hr .section {
  background: #61781a;
  color: #61781a;
  border: 3px solid #DEDEDE;
}

strong {
  font-family: 'Tauri';
  font-weight: normal;
  color: #000000;
}

em {
  font-style:oblique;
  font-family: Georgia;
  color: #003D82;
}

code {
	font-family: 'Inconsolata','Source Code Pro';
}

pre {
	font-family: 'Inconsolata','Source Code Pro';
	font-size: 90%;
	padding: 1em;

  line-height: 1.2em;
  background: #FBFCF9; 
  /*
  border: 3px solid #F0F2E7;
  */
  border: 1px solid #DEDEDE;

	margin-bottom:0px;
  white-space: pre-wrap;
}

.codeblock {
  background: #FFFFFF;
  font-family: 'Muli';
  font-size: 15px;
  color: #0000b3;
  padding:0px;
  margin: 0px;
  border: 0px;  
}

  pre.codeblock {
    padding: 1em;
    background: #e8ebef;
    color: #000000;
    line-height:130%;
}

#lst {
	font-family: 'Rokkitt';
  color: #000000;
	font-style:normal;
	font-size: 14px;
	margin-top:5px;
	padding-top:5px;
	padding-bottom:10px;
  text-align:center;
}


a:link, a:visited {
  /*color: #004a94;
  color: #0778e4;*/
  /*color: #b30000;
  color: #9a3c31; */
  color: #B30000;
  text-decoration: none;
}

a:hover {
  color: #9a3c31;
  border-bottom: 1px solid #9a3c31;
}

img {
  display:block;
  margin-left: auto;
  margin-right: auto;
  width: 100%;
}
  img.shadow {
    display:block;
    margin-left: auto;
    margin-right: auto;
    width: 85%;
    -moz-box-shadow: -5px 0 35px 10px #888;
    -webkit-box-shadow: -5px 0 35px 10px #888;
    box-shadow: -5px 0 35px 10px #888;
    margin-top: 40px;
    margin-bottom: 40px;
  } 
  img.small {
    width: 65%;
    -moz-box-shadow: -5px 0 35px 10px #888;
    -webkit-box-shadow: -5px 0 35px 10px #888;
    box-shadow: -5px 0 35px 10px #888;
    margin-top: 40px;
    margin-bottom: 40px;
  }
  img.default {
    width: inherit;
  }

aside {
  
  padding: 10px;
  border: 2px solid #CACACA;
  
}

/* Pygments stylesheets */

.hll { background-color: #ffffcc }
.c { color: #408080; font-style: italic } /* Comment */
.err { border: 1px solid #FF0000 } /* Error */
.k { color: #000000; font-weight: normal } /* Keyword */
.o { color: #666666 } /* Operator */
.cm { color: #408080; font-style: italic } /* Comment.Multiline */
.cp { color: #BC7A00 } /* Comment.Preproc */
.c1 { color: #408080; font-style: italic } /* Comment.Single */
.cs { color: #408080; font-style: italic } /* Comment.Special */
.gd { color: #A00000 } /* Generic.Deleted */
.ge { font-style: italic } /* Generic.Emph */
.gr { color: #FF0000 } /* Generic.Error */
.gh { color: #000080; font-weight: normal } /* Generic.Heading */
.gi { color: #00A000 } /* Generic.Inserted */
.go { color: #808080 } /* Generic.Output */
.gp { color: #000080; font-weight: normal } /* Generic.Prompt */
.gs { font-weight: normal } /* Generic.Strong */
.gu { color: #800080; font-weight: normal } /* Generic.Subheading */
.gt { color: #0040D0 } /* Generic.Traceback */
.kc { color: #e57300; font-weight: normal } /* Keyword.Constant */
.kd { color: #e57300; font-weight: normal } /* Keyword.Declaration */
.kn { color: #008000; font-weight: normal } /* Keyword.Namespace */
.kp { color: #008000 } /* Keyword.Pseudo */
.kr { color: #008000; font-weight: normal } /* Keyword.Reserved */
.kt { color: #B00040; } /* Keyword.Type */
.m { color: #666666; } /* Literal.Number */
.s { color: #0000e5; } /* Literal.String */
.na { color: #7D9029; } /* Name.Attribute */
.nb { color: #008000; } /* Name.Builtin */
.nc { color: #0000FF; font-weight: normal } /* Name.Class */
.no { color: #880000 } /* Name.Constant */
.nd { color: #AA22FF } /* Name.Decorator */
.ni { color: #999999; font-weight: normal } /* Name.Entity */
.ne { color: #D2413A; font-weight: normal } /* Name.Exception */
.nf { color: #0000FF } /* Name.Function */
.nl { color: #A0A000 } /* Name.Label */
.nn { color: #0000FF; font-weight: normal } /* Name.Namespace */
.nt { color: #008000; font-weight: normal } /* Name.Tag */
.nv { color: #19177C } /* Name.Variable */
.ow { color: #AA22FF; font-weight: normal } /* Operator.Word */
.w { color: #bbbbbb } /* Text.Whitespace */
.mf { color: #666666 } /* Literal.Number.Float */
.mh { color: #666666 } /* Literal.Number.Hex */
.mi { color: #666666 } /* Literal.Number.Integer */
.mo { color: #666666 } /* Literal.Number.Oct */
.sb { color: #0000e5 } /* Literal.String.Backtick */
.sc { color: #0000e5 } /* Literal.String.Char */
.sd { color: #0000e5; font-style: italic } /* Literal.String.Doc */
.s2 { color: #0000e5 } /* Literal.String.Double */
.se { color: #0000e5; font-weight: normal } /* Literal.String.Escape */
.sh { color: #0000e5 } /* Literal.String.Heredoc */
.si { color: #BB6688; font-weight: normal } /* Literal.String.Interpol */
.sx { color: #008000 } /* Literal.String.Other */
.sr { color: #BB6688 } /* Literal.String.Regex */
.s1 { color: #0000e5 } /* Literal.String.Single */
.ss { color: #19177C } /* Literal.String.Symbol */
.bp { color: #008000 } /* Name.Builtin.Pseudo */
.vc { color: #19177C } /* Name.Variable.Class */
.vg { color: #19177C } /* Name.Variable.Global */
.vi { color: #19177C } /* Name.Variable.Instance */
.il { color: #666666 } /* Literal.Number.Integer.Long */



/*  GITHUB STYLE BUTTONS  FROM https://github.com/necolas/css3-github-buttons/blob/master/gh-buttons.css */

/* ------------------------------------------
 * CSS3 GITHUB BUTTONS (Nicolas Gallagher)
 * Licensed under Unlicense
 * http://github.com/necolas/css3-github-buttons
 * --------------------------------------- */


/* =============================================================================
   Base Button
   ========================================================================== */

.button {
    position: relative;
    overflow: visible;
    display: inline-block;
    padding: 0.5em 1em;
    border: 1px solid #d4d4d4;
    margin: 0;
    text-decoration: none;
    text-align: center;
    text-shadow: 1px 1px 0 #fff;
    font:18px/normal 'Rokkitt';
    color: #333;
    white-space: nowrap;
    cursor: pointer;
    outline: none;
    background-color: #ececec;
    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#f4f4f4), to(#ececec));
    background-image: -moz-linear-gradient(#f4f4f4, #ececec);
    background-image: -ms-linear-gradient(#f4f4f4, #ececec);
    background-image: -o-linear-gradient(#f4f4f4, #ececec);
    background-image: linear-gradient(#f4f4f4, #ececec);
    -moz-background-clip: padding; /* for Firefox 3.6 */
    background-clip: padding-box;
    border-radius: 0.2em;
    /* IE hacks */
    zoom: 1;
    *display: inline;
}

.button:hover,
.button:focus,
.button:active,
.button.active {
    border-color: #3072b3;
    border-bottom-color: #2a65a0;
    text-decoration: none;
    text-shadow: -1px -1px 0 rgba(0,0,0,0.3);
    color: #fff;
    background-color: #3c8dde;
    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#599bdc), to(#3072b3));
    background-image: -moz-linear-gradient(#599bdc, #3072b3);
    background-image: -o-linear-gradient(#599bdc, #3072b3);
    background-image: linear-gradient(#599bdc, #3072b3);
}

.button:active,
.button.active {
    border-color: #2a65a0;
    border-bottom-color: #3884cd;
    background-color: #3072b3;
    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#3072b3), to(#599bdc));
    background-image: -moz-linear-gradient(#3072b3, #599bdc);
    background-image: -ms-linear-gradient(#3072b3, #599bdc);
    background-image: -o-linear-gradient(#3072b3, #599bdc);
    background-image: linear-gradient(#3072b3, #599bdc);
}

/* overrides extra padding on button elements in Firefox */
.button::-moz-focus-inner {
    padding: 0;
    border: 0;
}


/* =============================================================================
   Button icons
   ========================================================================== */

.button.icon:before {
    content: "";
    position: relative;
    top: 1px;
    float:left;
    width: 12px;
    height: 12px;
    margin: 0 0.75em 0 -0.25em;
    background: url(gh-icons.png) 0 99px no-repeat;
}

.button.arrowup.icon:before { background-position: 0 0; }
.button.arrowup.icon:hover:before,
.button.arrowup.icon:focus:before,
.button.arrowup.icon:active:before { background-position: -12px 0; }

.button.arrowdown.icon:before { background-position: 0 -12px; }
.button.arrowdown.icon:hover:before,
.button.arrowdown.icon:focus:before,
.button.arrowdown.icon:active:before { background-position: -12px -12px; }

.button.arrowleft.icon:before { background-position: 0 -24px; }
.button.arrowleft.icon:hover:before,
.button.arrowleft.icon:focus:before,
.button.arrowleft.icon:active:before { background-position: -12px -24px; }

.button.arrowright.icon:before { float:right; margin: 0 -0.25em 0 0.5em; background-position: 0 -36px; }
.button.arrowright.icon:hover:before,
.button.arrowright.icon:focus:before,
.button.arrowright.icon:active:before { background-position: -12px -36px; }

.button.approve.icon:before { background-position: 0 -48px; }
.button.approve.icon:hover:before,
.button.approve.icon:focus:before,
.button.approve.icon:active:before { background-position: -12px -48px; }

.button.add.icon:before { background-position: 0 -288px; }
.button.add.icon:hover:before,
.button.add.icon:focus:before,
.button.add.icon:active:before { background-position: -12px -288px; }

.button.remove.icon:before { background-position: 0 -60px; }
.button.remove.icon:hover:before,
.button.remove.icon:focus:before,
.button.remove.icon:active:before { background-position: -12px -60px; }

.button.log.icon:before { background-position: 0 -72px; }
.button.log.icon:hover:before,
.button.log.icon:focus:before,
.button.log.icon:active:before { background-position: -12px -72px; }

.button.calendar.icon:before { background-position: 0 -84px; }
.button.calendar.icon:hover:before,
.button.calendar.icon:focus:before,
.button.calendar.icon:active:before { background-position: -12px -84px; }

.button.chat.icon:before { background-position: 0 -96px; }
.button.chat.icon:hover:before,
.button.chat.icon:focus:before,
.button.chat.icon:active:before { background-position: -12px -96px; }

.button.clock.icon:before { background-position: 0 -108px; }
.button.clock.icon:hover:before,
.button.clock.icon:focus:before,
.button.clock.icon:active:before { background-position: -12px -108px; }

.button.settings.icon:before { background-position: 0 -120px; }
.button.settings.icon:hover:before,
.button.settings.icon:focus:before,
.button.settings.icon:active:before { background-position: -12px -120px; }

.button.comment.icon:before { background-position: 0 -132px; }
.button.comment.icon:hover:before,
.button.comment.icon:focus:before,
.button.comment.icon:active:before { background-position: -12px -132px; }

.button.fork.icon:before { background-position: 0 -144px; }
.button.fork.icon:hover:before,
.button.fork.icon:focus:before,
.button.fork.icon:active:before { background-position: -12px -144px; }

.button.like.icon:before { background-position: 0 -156px; }
.button.like.icon:hover:before,
.button.like.icon:focus:before,
.button.like.icon:active:before { background-position: -12px -156px; }

.button.favorite.icon:before { background-position: 0 -348px; }
.button.favorite.icon:hover:before,
.button.favorite.icon:focus:before,
.button.favorite.icon:active:before { background-position: -12px -348px; }

.button.home.icon:before { background-position: 0 -168px; }
.button.home.icon:hover:before,
.button.home.icon:focus:before,
.button.home.icon:active:before { background-position: -12px -168px; }

.button.key.icon:before { background-position: 0 -180px; }
.button.key.icon:hover:before,
.button.key.icon:focus:before,
.button.key.icon:active:before { background-position: -12px -180px; }

.button.lock.icon:before { background-position: 0 -192px; }
.button.lock.icon:hover:before,
.button.lock.icon:focus:before,
.button.lock.icon:active:before { background-position: -12px -192px; }

.button.unlock.icon:before { background-position: 0 -204px; }
.button.unlock.icon:hover:before,
.button.unlock.icon:focus:before,
.button.unlock.icon:active:before { background-position: -12px -204px; }

.button.loop.icon:before { background-position: 0 -216px; }
.button.loop.icon:hover:before,
.button.loop.icon:focus:before,
.button.loop.icon:active:before { background-position: -12px -216px; }

.button.search.icon:before { background-position: 0 -228px; }
.button.search.icon:hover:before,
.button.search.icon:focus:before,
.button.search.icon:active:before { background-position: -12px -228px; }

.button.mail.icon:before { background-position: 0 -240px; }
.button.mail.icon:hover:before,
.button.mail.icon:focus:before,
.button.mail.icon:active:before { background-position: -12px -240px; }

.button.move.icon:before { background-position: 0 -252px; }
.button.move.icon:hover:before,
.button.move.icon:focus:before,
.button.move.icon:active:before { background-position: -12px -252px; }

.button.edit.icon:before { background-position: 0 -264px; }
.button.edit.icon:hover:before,
.button.edit.icon:focus:before,
.button.edit.icon:active:before { background-position: -12px -264px; }

.button.pin.icon:before { background-position: 0 -276px; }
.button.pin.icon:hover:before,
.button.pin.icon:focus:before,
.button.pin.icon:active:before { background-position: -12px -276px; }

.button.reload.icon:before { background-position: 0 -300px; }
.button.reload.icon:hover:before,
.button.reload.icon:focus:before,
.button.reload.icon:active:before { background-position: -12px -300px; }

.button.rss.icon:before { background-position: 0 -312px; }
.button.rss.icon:hover:before,
.button.rss.icon:focus:before,
.button.rss.icon:active:before { background-position: -12px -312px; }

.button.tag.icon:before { background-position: 0 -324px; }
.button.tag.icon:hover:before,
.button.tag.icon:focus:before,
.button.tag.icon:active:before { background-position: -12px -324px; }

.button.trash.icon:before { background-position: 0 -336px; }
.button.trash.icon:hover:before,
.button.trash.icon:focus:before,
.button.trash.icon:active:before { background-position: -12px -336px; }

.button.user.icon:before { background-position: 0 -360px; }
.button.user.icon:hover:before,
.button.user.icon:focus:before,
.button.user.icon:active:before { background-position: -12px -360px; }


/* =============================================================================
   Button extensions
   ========================================================================== */

/* Primary button
   ========================================================================== */

.button.primary {
    font-weight: bold;
}

/* Danger button
   ========================================================================== */

.button.danger {
    color: #900;
}

.button.danger:hover,
.button.danger:focus,
.button.danger:active {
    border-color: #b53f3a;
    border-bottom-color: #a0302a;
    color: #fff;
    background-color: #dc5f59;
    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#dc5f59), to(#b33630));
    background-image: -moz-linear-gradient(#dc5f59, #b33630);
    background-image: -ms-linear-gradient(#dc5f59, #b33630);
    background-image: -o-linear-gradient(#dc5f59, #b33630);
    background-image: linear-gradient(#dc5f59, #b33630);
}

.button.danger:active,
.button.danger.active {
    border-color: #a0302a;
    border-bottom-color: #bf4843;
    background-color: #b33630;
    background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#b33630), to(#dc5f59));
    background-image: -moz-linear-gradient(#b33630, #dc5f59);
    background-image: -ms-linear-gradient(#b33630, #dc5f59);
    background-image: -o-linear-gradient(#b33630, #dc5f59);
    background-image: linear-gradient(#b33630, #dc5f59);
}

/* Pill button
   ========================================================================== */

.button.pill {
    border-radius: 50em;
}

/* Disabled button
   ========================================================================== */

.button.disable {
    opacity: 0.5;
}

/* Big button
   ========================================================================== */

.button.big {
    font-size: 14px;
}

.button.big.icon:before {
    top: 0;
}


/* =============================================================================
   Button groups
   ========================================================================== */

/* Standard group
   ========================================================================== */

.button-group {
    display: inline-block;
    list-style: none;
    padding: 0;
    margin: 0;
    /* IE hacks */
    zoom: 1;
    *display: inline;
}

.button + .button,
.button + .button-group,
.button-group + .button,
.button-group + .button-group {
    margin-left: 15px;
}

.button-group li {
    float: left;
    padding: 0;
    margin: 0;
}

.button-group .button {
    float: left;
    margin-left: -1px;
}

.button-group > .button:not(:first-child):not(:last-child),
.button-group li:not(:first-child):not(:last-child) .button {
    border-radius: 0;
}

.button-group > .button:first-child,
.button-group li:first-child .button {
    margin-left: 0;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.button-group > .button:last-child,
.button-group li:last-child > .button {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

/* Minor group
   ========================================================================== */

.button-group.minor-group .button {
    border: 1px solid #d4d4d4;
    text-shadow: none;
    background-image: none;
    background-color: #fff;
}

.button-group.minor-group .button:hover,
.button-group.minor-group .button:focus {
    background-color: #599bdc;
}

.button-group.minor-group .button:active,
.button-group.minor-group .button.active {
    background-color: #3072b3;
}

.button-group.minor-group .button.icon:before {
    opacity: 0.8;
}

/* =============================================================================
   Button container (mixing buttons and groups, e.g., nav bar)
   ========================================================================== */

.button-container .button,
.button-container .button-group {
    vertical-align: top;
}

</style>
    
    <!--
		<link href="../css/style.min.css" rel="stylesheet" type="text/css" />
    -->
  
  </head>
  <body>    
       
    <div id="wrap">     
    <article itemscope itemtype="http://schema.org/Article" class="notoc">
     <header>          
      <div id="articletitle">HTML5 Canvas Programming</div>
      
      <div class='content-meta'>
       by: <a href='https://plus.google.com/107317535953221277825?rel=author'>
       Ted Hagos</a>, October 18 , 2012 
      </div>
    </header>
    <!--
    <article itemscope itemtype="http://schema.org/Article">
    -->
		  <div id="post">
        <div itemprop='articleBody'>
		    <div id="update-history">
<h3>Doc History</h3>
<br/>
18.Oct.2012 &mdash; created<br/>
22.Oct.2012 &mdash; rewrite sections, added basic straight line and circular movements<br/>
28.Oct.2012 &mdash; added some sections on acceleration. embedded live demo within tutorial<br/>
</div>




<div id="minitoc">
<h3>Contents</h3>

0. Prep
1. Basic plumbing
    + Drawing primitives
    + Timed animation
2. Basic movements
    + Moving in a straight line
    + Moving in a uniform circular motion
3. Acceleration
    + Accelerate, then stop

</div>


<h1>Prep</h1>

<ol>
<li>HTML5 compliant browser. It is easy to find out, open whatever browser you are using and go http://html5test.com</li>
<li>Good programmer's editor</li>
<li>JQuery</li>
<li>CoffeeScript</li>
<li>Haml</li>
<li>Sass</li>
<li>Source control (git, mercurial, svn, cvs etc), whatever you are comfortable with</li>
</ol>


<p>Item numbers 3 until 8, you can live without (I suggest you don't though)</p>

<h2>Prior knowledge</h2>

<p>You need a (really) solid background on <strong>JavaScript</strong>, a passing knowledge of the lanaguage might tie you up for drawing some simplistic primitives and less complex animations (straight line movements with fewer than 10 objects), however, when the complications gets to a higher order (lots of objects flying around independently, oscillations, movements along curvatures etc), it means only one thing--time to get some more programming knowledge and experience. A really good book will help, a really good teacher/mentor/community support will be even better.</p>

<p>Programmers coming from other languages (such as Java, C++, Ruby, Python) who are quite adept with data structures and algorithms will feel right at home. HTML5 canvas programming requires programming experience because it is quite close to the metal. There are frameworks that may help doing some basic animations, but you do really need to understand the JavaScript language, be comfortable structuring data (in OO way would be very helpful) and you need to genuinely enjoy breaking down problems into component solutions. As mentioned before, it is close to the metal programming; canvas lets you manipulate individual pixels in a bounded region, after that, you are pretty much on your own.</p>

<h1>1. Basic plumbing</h1>

<p>A canvas HTMLElement needs to be defined in the page.</p>

<p>~~~</p>

<h1>!html</h1>

<p>&lt;!DOCTYPE html>
<html>
  <head></head>
  <style>#mycanvas {border:1px solid gray;}</style>
  <title>"canvas programming"</title>
  <script>src="canvas.js"</script>
  <body></p>

<pre><code>&lt;canvas id='mycanvas'&gt;width=500 height=300&lt;/canvas&gt;
</code></pre>

<p>  </body>
</html></p>

<p>~~~</p>

<p>

~~~
#!javascript

// filename: canvas.js

window.onload = function(){
    
    var canv = document.getElementById("mycanvas");
    var context = canv.getContext("2d");
    
}

~~~

The HTMLElement canvas is not the programming platform, you need it simply to get the actual reference to the 2d platform. The **mycanvas** is just a DOM element, think of it as a viewport, you cannot paint 2d drawing primitives in that element. The **context** object is the 2d platform, use this to draw the drawing primitives. 


## 1.1 Drawing primitives of the Canvas 
<p>
~~~
#!javascript

// filename: canvas.js

window.onload = function(){
    
    var canv = document.getElementById("mycanvas");
    var context = canv.getContext("2d");

    ctx.fillRect(10,10,50,50);
    ctx.strokeRect(70,10,50,50);
            
    ctx.fillStyle = "rgb(255,0,0)";
    ctx.fillRect(10,70,50,50);
            
    ctx.strokeStyle = "#ababab";
    ctx.strokeRect(70,70,50,50);
            
    // DRAW LINES
            
    //The line is gray bec the curr strokeStyle
    //is #ababab
            
    ctx.lineWidth = 1;
    ctx.beginPath();
    ctx.moveTo(130, 130);
    ctx.lineTo(0,0);
    ctx.closePath();
    ctx.stroke();
            
    // DRAW some text
            
    ctx.fillText("Hello", 130,20);
    ctx.font = "40px serif"; // you can add italics here, just like in css
    ctx.fillText("Hello", 130,60);
    ctx.strokeText("Hello", 130,100);
            
    //DRAW CIRCLE
            
    ctx.fillStyle = "green";
    ctx.beginPath();
    ctx.arc(60,180,50,0,Math.PI * 2, false);
    ctx.closePath();
    ctx.fill();
            
    ctx.fillStyle = "orange";
    ctx.beginPath();
    ctx.arc(60,280,50,0,Math.PI, false);
    ctx.closePath();
    ctx.fill();
    
}

~~~

Lots of things you can do with the **context (ctx)** object, in fact, everything has to be drawn using the context object, you need to be very comfortable with it. The sample code above demonstrates some primitives of the context object (line, text and arc). There are more examples of Canvas basics at [HTML5 Canvas tutorials](http://www.html5canvastutorials.com/tutorials/html5-canvas-tutorials-introduction/)


## 1.2 Animation using a timer 

Using barebones JavaScript should still be okay to use for the following examples, but there is no point delaying using the tools mentioned in **Section 0**, so we will use them. 

## Prep Steps

1. Download [jquery-1.8.x.js](http://jquery.com/download/) and put it on same directory where the .coffee files and .haml files are
2. Get Haml (via rubygems), **gem install haml**
3. Get coffeescript (via node package manager) **npm -g install coffee-script** 

<p>

~~~
#!haml

/ filename: animate.haml
/ compile: haml animate.haml animate.html

/ author: Ted Hagos

!!!5

%html
    %head
        %title Basic Time Animation

        %script{:src => "jquery-1.8.1.js"}
        %script{:src =>  "animate.js"}

    %body

        %canvas{:id => "mycanvas", :width => 500, :height => 300}
~~~

<p>

~~~
#!ruby

###

BSD License: Copyright (c) 2009-2012 Ted Hagos
All rights reserved.

License text: http://thelogbox.com/source-docs/software-license.txt
    
###

###

filename: animate.coffee
compile: coffee --compile animate.coffee 

Desc:

    Basics of a game loop
    1. Update positions of objects in the canvas
    2. Clear the canvas
    3. Redraw eveything in the canvas

    This one is pretty basic, it draws a square primitive
    everytime the canvas is redrawn. Experiment with the
    code by removing the hash sign (comment) before the
    line "ctx.clearRect..." if that line is commented out
    then the screen will fill up with random sized squares
    overtime; if the line is not commented, a randomly sized
    square object will appear everytime the canvas is 
    redrawn

###

class Paper

    c = 0;
    ctx = 0;
    counter = 0;

    constructor: (canvas,context) -> 
        c = canvas
        ctx = context
        @draw()

    draw: =>
        #ctx.clearRect 0, 0, c.width, c.height
        sq = Square.getSquare(c)
        ctx.strokeRect sq.x, sq.y, sq.width, sq.height
        setTimeout @draw, 300


class Square

    @getSquare: (canvas) ->
        x = Math.random() * canvas.width
        y = Math.random() * canvas.height
        width = Math.random() * 75
        height = width
        {x, y, width, height}

$(window).ready ->
    canvas = $('#mycanvas').get(0)
    context = canvas.getContext('2d')

    paper = new Paper(canvas,context)

~~~

<p>

# 2. Basic movements 

## 2.1 Moving in a straight line 

<p>

~~~
#!haml

/ filename: straight.haml
/ compile: haml straight.haml straight.html

/ author: Ted Hagos

!!!5

%html
    %head
        %script{:src => "jquery-1.8.1.js"}
        %script{:src => "straight.js"}

    %body
        %canvas{:id => "mycanvas", :width => 500, :height => 300, :style => "border:1px solid gray"}


~~~

<p>
~~~
#!ruby

###

BSD License: Copyright (c) 2009-2012 Ted Hagos
All rights reserved.

License text: http://thelogbox.com/source-docs/software-license.txt
    
###

####

filename: straight.coffee
compile: coffee --compile straight.coffee

Desc: 

    Basic horizontal movement of a context primitive. Each time the screen is
    redrawn (setTimeout @draw, 30), the y-coordinate of the box object is
    incremented

    This code sample also demonstrates basic principle of collision detection,
    once the right edge of the box object (box.x + box.width) has touched the right
    edge of canvas ( > c.width), we stop redrawing the canvas--sure the JavaScript
    timer goes chugging along still, you cannot stop it, but there is an branching
    of the logic inside the draw() function -- unless stop_drawing is true, we 
    draw, if stop_drawing is true already, we stop

####


class Stage

    c = ctx = box = null
    stop_drawing = false

    constructor: (canvas, context) ->
        c = canvas
        ctx = context

        box = 
            x: 10
            y: c.height /2
            width: 40
            height: 40
            speed: 1

        @draw()
        
    draw: =>

        unless stop_drawing

            ctx.clearRect 0, 0, c.width, c.height
            box.x += box.speed
            ctx.strokeRect box.x, box.y, box.width, box.height
            setTimeout @draw, 30

            if box.x + box.width is c.width then stop_drawing = true


$(window).ready ->
    canvas = $('#mycanvas').get(0)
    context = canvas.getContext('2d')

    stage = new Stage(canvas, context)

~~~

<p>

## 2.2 Moving in a uniform circular motion 

There is no direct way to make a an object move along a circular path. The circular path has to be calculated, then set the *x,y* of the object to move along those coordinates

<!--
<img src="/res/article-pix/notes-canvas/circlepath.png" width=500/>
-->
<iframe src="/source-docs/circlepath.html" width="100%" height=350px frameBorder=0>
</iframe>

<p>

~~~
#!haml

/ filename: circlepath.haml
/ compile: haml circlepath.haml circlepath.html

/ author: Ted Hagos

!!!5

%html
    %head

    %script{:src => "jquery-1.8.1.js"}
    %script{:src => "circlepath.js"}

%body
    %canvas{:id => "mycanvas", :width => 600, :height => 600}
    #watch

~~~

<p>

~~~
#!ruby

###

BSD License: Copyright (c) 2009-2012 Ted Hagos
All rights reserved.

License text: http://thelogbox.com/source-docs/software-license.txt
    
###

###

filename: circlepath.coffee
compile: coffee --compile circlepath.coffee

Desc:
    Trace the path of circle object (defined in the constructor). That specific
    circle will not be drawn, but instead its perimeter will be used as the 
    path as we draw (and animate) a smaller circle (drawn using ctx.arc) 
    
###


class Paper

    c = null
    ctx = null

    ball = {}
    circle = {}

    counter = 0

    constructor: (canvas, context) ->
        c = canvas
        ctx = context
        $('#watch').html "On the CTOR"

        ball = 
            x:0
            y:0
            speed: 0.1

        circle = 
            centerX: 250
            centerY: 250
            radius: 125
            angle: 0

    draw: =>
        
        counter += 1
        
        ctx.clearRect 0, 0,  c.width, c.height
        ball.x = circle.centerX + Math.cos(circle.angle) * circle.radius
        ball.y = circle.centerY + Math.sin(circle.angle) * circle.radius

        ctx.beginPath()
        ctx.arc ball.x, ball.y, 15, 0, Math.PI * 2, true
        ctx.closePath()
        ctx.stroke()

        circle.angle += ball.speed
        
        # why is this not being called
        
        $('#watch').html "Loop counter = #{counter}"
        setTimeout @draw, 1000


$(window).ready ->
    canvas = $('#mycanvas').get(0)
    context = canvas.getContext('2d')

    paper = new Paper(canvas, context)
    paper.draw()

~~~

<p/>

# 3. Acceleration

To immitate the motion of freely falling bodies, the downward movement along a straight line needs to incorporate acceleration. Our box need not only update its *y* position, it also needs to update its speed. Each time the canvas is redrawn, the speed increases *(box.speed += box.acceleration)*

<iframe src="/source-docs/acceleration.html" width="100%" height=550px frameBorder=0>
</iframe>

~~~
#!haml

/ filename: acceleration.haml
/ author: Ted Hagos


!!!5

%html
    %head
        %link{:rel => "stylesheet", :href => "stylesheet.css"}
        %script{:src => "http://code.jquery.com/jquery-1.8.2.min.js"}
        %script{:src => "jcanvas.min.js"}
        %script{:src => "acceleration.js"}
    %body
        %canvas{:id => 'mycanvas', :width => 500, :height => 500, :style => "border: 1px solid gray"}


~~~

<p/>

~~~
#!ruby

###

BSD License: Copyright (c) 2009-2012 Ted Hagos
All rights reserved.

License text: http://thelogbox.com/source-docs/software-license.txt
    
###

# filename: accelerate.coffee
# date: Sat Oct 27 15:33:22 PHT 2012 

###

To accelerate, increase the speed of the box each time it is redrawn. 

###

class Stage 

    c = ctx = box = null
    stopAnimation = false

    constructor: (canvas, context) ->
        c = canvas
        ctx = context

        box = 
            x: c.width/2
            y: 0
            width: 10
            height: 10
            speed: 1 
            acceleration: .98 

        @draw()

    draw: =>

        unless box.y > c.height

            ctx.clearRect 0,0, c.width, c.height
            box.y += box.speed
            box.speed += box.acceleration

            ctx.strokeRect box.x, box.y, box.width, box.height
            setTimeout @draw, 60

            if box.y > c.height
                box.speed = 1
                box.y = 0
                box.x = Math.random() * c.width


$(window).ready ->
    canvas = $('#mycanvas').get(0)
    context = canvas.getContext('2d')

    stage = new Stage(canvas, context)

~~~

## 3.1 Accelerate, then stop 

Combination of techniques now. Make the box accelerate as it falls down, then detect if the bottom of the box *(box.y + box.height)* has already touched the canvas floor *(canvas.height)*. Make the box rest there.

Click **fall** button below to see the demo

<iframe src="/source-docs/fall-stop.html" width="100%" height=550px frameBorder=0>
</iframe>

~~~
#!haml

/ filename: fall-stop.haml
/ author: Ted Hagos


!!!5

%html
    %head
        %script{:src => "http://code.jquery.com/jquery-1.8.2.min.js"}
        %script{:src => "fall-stop.js"}
    %body
        %canvas{:id => 'mycanvas', :width => 500, :height => 500, :style => "border: 1px solid gray"}

~~~

<p/>

~~~
#!ruby

###

BSD License: Copyright (c) 2009-2012 Ted Hagos
All rights reserved.

License text: http://thelogbox.com/source-docs/software-license.txt
    
###

# filename: fall-stop.coffee
# date: Sat Oct 27 19:13:30 PHT 2012

###

Accelerate downwards, apply collision detection when the bottom of the
box hits the floor (height value of the canvas) to make the box rest on
the bottom

###

class Box

    canvas = null
    box = null

    constructor: (@canvas) ->
        
        @x = Math.random() * canvas.width
        @y = 0
        @width = 50
        @height = 50
        @speed = 1
        @acceleration = .98
        @at_rest = false

class Stage 

    c = ctx = box = null
    stopAnimation = false

    constructor: (canvas, context) ->
        c = canvas
        ctx = context
        box = new Box(c)

        @draw()

    draw: =>

        ctx.clearRect 0, 0, c.width, c.height
        
        # to smooth out the collission
        if (box.y + box.height) <= (c.height - box.height)

            box.y += box.speed
            box.speed += box.acceleration
            ctx.strokeRect box.x, box.y, box.width, box.height
            foo = setTimeout @draw, 60
        else
            ctx.strokeRect box.x, c.height - box.height, box.width, box.height
            #clearTimeout foo
        
        # What happens to this box after it has fallen off the canvas? does it
        # still consume memory?


$(window).ready ->
    canvas = $('#mycanvas').get(0)
    context = canvas.getContext('2d')
    stage = new Stage(canvas, context)

~~~

<p/>


        </div>
							
		  </div>
		</article>
    
    
    <a href="/" class='button'>Home Page</a>
    <a href="/archives" class='button'>Blog Archives</a>
    
  </div> <!-- WRAP -->   
		
    <footer>Copyright&nbsp; &copy; 2004-2013 <a href='https://plus.google.com/107317535953221277825?rel=author'>
          Ted Hagos</a> 

</footer>
    <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38198657-1']);
  _gaq.push(['_setDomainName', 'thelogbox.com']);
  _gaq.push(['_setAllowLinker', true]);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
    <!-- Start of StatCounter Code for Default Guide -->
	
  <script type="text/javascript">
  var sc_project=7827488; 
  var sc_invisible=1; 
  var sc_security="069357c9"; 
  </script>
  <script type="text/javascript"
      src="http://www.statcounter.com/counter/counter.js"></script>
  <noscript><div class="statcounter"><a title="customizable
      counter" href="http://statcounter.com/free-hit-counter/"
      target="_blank"><img class="statcounter"
      src="http://c.statcounter.com/7827488/0/069357c9/1/"
      alt="customizable counter"></a></div></noscript>
  <!-- End of StatCounter Code for Default Guide -->
  </body>
</html>
